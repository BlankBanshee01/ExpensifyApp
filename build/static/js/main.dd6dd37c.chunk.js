(this["webpackJsonpexpense-app"]=this["webpackJsonpexpense-app"]||[]).push([[0],{102:function(e,t,n){},145:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(23),c=n.n(o),u=n(15),i=(n(101),n(102),n(16)),s=n(5),l=function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"Expensify"),r.a.createElement(i.c,{activeClassName:"active-link",exact:!0,to:"/"},"Home"),r.a.createElement(i.c,{activeClassName:"active-link",to:"/add_expense"},"Create Expence"))},p=function(e){var t=e.description,n=e.amount,a=e.createdAt,o=e.id,c=e.note;return r.a.createElement("div",null,r.a.createElement(i.b,{to:"/edit/".concat(o)},r.a.createElement("h3",null,t)),r.a.createElement("p",null,"Amount: ",n),r.a.createElement("p",null,"Date: ",a),r.a.createElement("p",null,"Note: ",c))},d=n(1),m=n.n(d),f=function(e,t){var n=t.text,a=t.sortBy,r=t.startDate,o=t.endDate;return e.filter((function(e){var t=m()(e.createdAt),a=!r||r.isSameOrBefore(t,"day"),c=!o||o.isSameOrAfter(t,"day"),u=e.description.toLowerCase().includes(n.toLowerCase());return a&&c&&u})).sort((function(e,t){return"date"===a?e.createdAt<t.createdAt?1:-1:"amount"===a?e.amount<t.amount?1:-1:void 0}))},E=Object(u.b)((function(e){return{expenses:f(e.expenses,e.filters)}}))((function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Expense list "),e.expenses.map((function(e){return r.a.createElement(p,Object.assign({key:e.id},e))})))})),h=n(18),v=n(19),b=n(21),O=n(20),x=n(45),D=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={focusedInput:null},e.onDatesChange=function(t){var n=t.startDate,a=t.endDate;e.props.setStartDate(n),e.props.setEndDate(a)},e.onFocusChange=function(t){return e.setState({focusedInput:t})},e.onTextFilterChange=function(t){return e.props.setTextFilter(t.target.value)},e.onSortByFilterChange=function(t){"amount"===t.target.value?e.props.sortByAmount():"date"===t.target.value&&e.props.sortByDate()},e}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:this.props.filters.text,onChange:this.onTextFilterChange}),r.a.createElement("select",{value:this.props.filters.sortBy,onChange:this.onSortByFilterChange},r.a.createElement("option",{value:"date"},"Date"),r.a.createElement("option",{value:"amount"},"Amount")),r.a.createElement(x.DateRangePicker,{startDate:this.props.filters.startDate,endDate:this.props.filters.endDate,onDatesChange:this.onDatesChange,focusedInput:this.state.focusedInput,onFocusChange:this.onFocusChange,numberOfMonths:1,isOutsideRange:function(){return!1},showClearDates:!0}))}}]),n}(a.Component),g=Object(u.b)((function(e){return{filters:e.filters}}),(function(e){return{setStartDate:function(t){return e(function(e){return{type:"SET_START_DATE",startDate:e}}(t))},setEndDate:function(t){return e(function(e){return{type:"SET_END_DATE",endDate:e}}(t))},setTextFilter:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:"SET_TEXT_FILTER",text:e}}(t))},sortByAmount:function(){return e({type:"SORT_BY_AMOUNT"})},sortByDate:function(){return e({type:"SORT_BY_DATE"})}}}))(D),S=function(){return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement(E,null))},y=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).onDescriptionChange=function(e){var t=e.target.value;a.setState((function(){return{description:t}}))},a.onNoteChange=function(e){var t=e.target.value;a.setState((function(){return{note:t}}))},a.onAmountChange=function(e){var t=e.target.value;t&&!t.match(/^\d{1,}(\.\d{0,2})?$/)||a.setState((function(){return{amount:t}}))},a.onDateChange=function(e){e&&a.setState((function(){return{createdAt:e}}))},a.onFocusChange=function(e){var t=e.focused;a.setState((function(){return{calendarFocused:t}}))},a.onSubmit=function(e){e.preventDefault(),a.state.description&&a.state.amount?(a.setState((function(){return{error:""}})),a.props.onSubmit({description:a.state.description,amount:100*parseFloat(a.state.amount,10),createdAt:a.state.createdAt.valueOf(),note:a.state.note})):a.setState((function(){return{error:"Please provide a description and an amount for your expense"}}))},a.state={description:e.expense?e.expense.description:"",note:e.expense?e.expense.note:"",amount:e.expense?(e.expense.amount/100).toString():"",createdAt:e.expense?m()(e.expense.createdAt):m()(),calendarFocused:!1,error:""},a}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.error&&r.a.createElement("p",null,this.state.error),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",placeholder:"Description",autoFocus:!0,value:this.state.description,onChange:this.onDescriptionChange}),r.a.createElement("input",{type:"text",placeholder:"Amount",value:this.state.amount,onChange:this.onAmountChange}),r.a.createElement(x.SingleDatePicker,{date:this.state.createdAt,onDateChange:this.onDateChange,focused:this.state.calendarFocused,onFocusChange:this.onFocusChange,numberOfMonths:1,isOutsideRange:function(){return!1}}),r.a.createElement("textarea",{placeholder:"Add a note for your expense (optional)",value:this.state.note,onChange:this.onNoteChange}),r.a.createElement("button",null,"Add Expense")))}}]),n}(r.a.Component),A=n(90),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.description,n=void 0===t?"":t,a=e.note,r=void 0===a?"":a,o=e.amount,c=void 0===o?0:o,u=e.createdAt,i=void 0===u?0:u;return{type:"ADD_EXPENSE",expense:{id:Object(A.v4)(),description:n,note:r,amount:c,createdAt:i}}},T=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t){e.props.addExpense(t),e.props.history.push("/")},e}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Add Expense"),r.a.createElement(y,{onSubmit:this.onSubmit}))}}]),n}(a.Component),_=Object(u.b)(void 0,(function(e){return{addExpense:function(t){return e(C(t))}}}))(T),j=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t){e.props.editExpense(e.props.expense.id,t),e.props.history.push("/")},e.onClick=function(){e.props.removeExpense({id:e.props.expense.id}),e.props.history.push("/")},e}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y,{expense:this.props.expense,onSubmit:this.onSubmit}),r.a.createElement("button",{onClick:this.onClick},"Remove Expense"))}}]),n}(a.Component),F=Object(u.b)((function(e,t){return{expense:e.expenses.find((function(e){return e.id===t.match.params.id}))}}),(function(e){return{editExpense:function(t,n){return e(function(e,t){return{type:"EDIT_EXPENSE",id:e,changes:t}}(t,n))},removeExpense:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id;return{type:"REMOVE",id:t}}(t))}}}))(j),B=function(){return r.a.createElement("p",null,"Help Page")},N=function(){return r.a.createElement("div",null,"404! - ",r.a.createElement(i.b,{to:"/"},"Go Home"))},R=function(){return r.a.createElement(i.a,null,r.a.createElement(l,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",component:S,exact:!0}),r.a.createElement(s.a,{path:"/add_expense",component:_}),r.a.createElement(s.a,{path:"/help",component:B}),r.a.createElement(s.a,{path:"/edit/:id",component:F}),r.a.createElement(s.a,{component:N})))},k=n(36),w=n(9),I=n(91),X=[],P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EXPENSE":return[].concat(Object(I.a)(e),[t.expense]);case"REMOVE":return e.filter((function(e){return e.id!==t.id}));case"EDIT_EXPENSE":return e.map((function(e){return e.id===t.id?Object(w.a)(Object(w.a)({},e),t.changes):e}));default:return e}},L={text:"",sortBy:"date",startDate:m()().startOf("month"),endDate:m()().endOf("month")},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEXT_FILTER":return Object(w.a)(Object(w.a)({},e),{},{text:t.text});case"SORT_BY_AMOUNT":return Object(w.a)(Object(w.a)({},e),{},{sortBy:"amount"});case"SORT_BY_DATE":return Object(w.a)(Object(w.a)({},e),{},{sortBy:"date"});case"SET_START_DATE":return Object(w.a)(Object(w.a)({},e),{},{startDate:t.startDate});case"SET_END_DATE":return Object(w.a)(Object(w.a)({},e),{},{endDate:t.endDate});default:return e}},U=(n(144),Object(k.c)(Object(k.b)({expenses:P,filters:M}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));U.dispatch(C({description:"expense 1",createdAt:999,amount:10})),U.dispatch(C({description:"expense 2",createdAt:100,amount:88})),U.dispatch(C({description:"from react number 2"}));var V=r.a.createElement(u.a,{store:U},r.a.createElement(R,null));c.a.render(V,document.getElementById("root"))},92:function(e,t,n){e.exports=n(145)}},[[92,1,2]]]);
//# sourceMappingURL=main.dd6dd37c.chunk.js.map